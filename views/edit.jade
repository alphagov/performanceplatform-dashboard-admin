extends layout

block header
  title Edit '#{dashboard.title}' - Performance Platform dashboard admin

block content
  h1 Edit the "#{dashboard.title}" dashboard

  form(method='post', action='/dashboard/' + dashboard.slug + '/edit')
    .form-group
      label(for='dashboard_slug') Slug
      input(name='dashboard_slug', id='dashboard_slug', class='form-control', disabled=true, value=dashboard.slug)

    .form-group
      label(for='dashboard_title') Title
      input(name='dashboard_title', id='dashboard_title', class='form-control', value=dashboard.title)

    .form-group
      label(for='dashboard_description') Description
      textarea(name='dashboard_description', id='dashboard_description', class='form-control',)
        = dashboard.description

    .well
      .form-group
        label(for='commit_message') Edit summary
        input(name='commit_message', id='commit_message', class='form-control', placeholder='A very short description of what you\'ve changed', required, style='width: 40%;')

      button(type='submit', class='btn btn-success') Save changes

  hr

  a(href='https://www.preview.alphagov.co.uk/performance/' + dashboard.slug, target='_blank', class='btn btn-sm btn-info')
    | View dashboard on preview

  if dashboard.published === false
    form(method='post', class='publish', action='/dashboard/' + dashboard.slug + '/publish')
      button(type='submit', class='btn btn-sm btn-danger') Publish dashboard on homepage
